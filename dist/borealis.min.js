/**
 * Borealis - Interactive Animated Background
 * @version 1.0.5
 * @license MIT
 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).Borealis=i()}(this,function(){"use strict";class t{constructor(t=Math.random()){this.p=new Uint8Array(256);for(let t=0;t<256;t++)this.p[t]=t;for(let i=255;i>0;i--){const s=(t=16807*t%2147483647)%(i+1);[this.p[i],this.p[s]]=[this.p[s],this.p[i]]}this.perm=new Uint8Array(512);for(let t=0;t<512;t++)this.perm[t]=this.p[255&t]}noise2D(t,i){const s=.5*(Math.sqrt(3)-1),e=(3-Math.sqrt(3))/6,a=(t+i)*s,o=Math.floor(t+a),n=Math.floor(i+a),h=(o+n)*e,l=t-(o-h),r=i-(n-h),c=l>r?1:0,p=l>r?0:1,d=l-c+e,u=r-p+e,f=l-1+2*e,_=r-1+2*e,g=255&o,m=255&n,C=(t,i,s)=>{const e=7&t,a=e<4?i:s,o=e<4?s:i;return(1&e?-a:a)+(2&e?-2*o:2*o)};let w=0,M=0,y=0,v=.5-l*l-r*r;v>=0&&(v*=v,w=v*v*C(this.perm[g+this.perm[m]],l,r));let S=.5-d*d-u*u;S>=0&&(S*=S,M=S*S*C(this.perm[g+c+this.perm[m+p]],d,u));let k=.5-f*f-_*_;return k>=0&&(k*=k,y=k*k*C(this.perm[g+1+this.perm[m+1]],f,_)),70*(w+M+y)}}class i{static get defaultOptions(){return{container:document.body,width:null,height:null,fullscreen:!0,zIndex:0,initiallyHidden:!1,className:null,background:null,density:50,dotSize:5,solidPattern:!1,densityMinCell:2,densityMaxCell:8,densityMinGap:1,densityMaxGap:4,patternScale:.001,patternAurora:!1,warpScale:.5,warpAmount:20,animationSpeed:2e-5,ridgePower:2,minOpacity:0,maxOpacity:1,waveFrequency:3,waveAmplitude:.5,effect:{type:"wave",aurora:!1,deadzone:20,speed:8e-4,width:120,chance:.08,intensity:1,delayMin:1e3,delayMax:3e3,combineSparkle:!1,sparkleBaseOpacity:0,mode:"sparkle",combined:!1,baseOpacity:30,twinkleSpeed:50,size:50,density:50},auroraColor1:[0,255,128],auroraColor2:[148,0,211],colorScale:.003,collapseSpeed:.1,collapseWaveWidth:.4,showDuration:null,hideDuration:null,fadeOpacity:!0,revealingClass:"borealis-revealing",visibleClass:"borealis-visible",hidingClass:"borealis-hiding",hiddenClass:"borealis-hidden",autoStart:!0,onShow:null,onHide:null}}constructor(t={}){const s=i.defaultOptions.effect,e=t.effect||{};this.options={...i.defaultOptions,...t,effect:{...s,...e}},this._init()}_init(){this.canvas=document.createElement("canvas"),this.options.className&&(this.canvas.className=this.options.className);const i=this.options.zIndex,s=this.options.background?`background: ${this.options.background};`:"";this.options.fullscreen?this.canvas.style.cssText=`\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                z-index: ${i};\n                ${s}\n            `:this.canvas.style.cssText=`\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                pointer-events: none;\n                z-index: ${i};\n                ${s}\n            `;const e=this.options.container;if(e===document.body&&this.options.fullscreen)document.body.insertBefore(this.canvas,document.body.firstChild);else{"static"===window.getComputedStyle(e).position&&(e.style.position="relative"),e.appendChild(this.canvas)}this.ctx=this.canvas.getContext("2d"),this.noise=new t(1e4*Math.random()),this.randomOffset=1e3*Math.random(),this._cellSize=4,this._gap=2,this._gridSize=6,this._sparkleMap={},this._animTime=0,this._twinkleTime=0,this._lastFrameTime=0,this._sparkleWaiting=!1,this._sparkleWaitUntil=0,this._diagPos=0,this._isCollapsing=this.options.initiallyHidden,this._collapseProgress=this.options.initiallyHidden?1+this.options.collapseWaveWidth:0,this._isRunning=!1,this._animationId=null,this._showSpeed=null,this._hideSpeed=null,this.options.initiallyHidden?(this.options.hiddenClass&&this.canvas.classList.add(this.options.hiddenClass),this.options.fadeOpacity&&(this.canvas.style.opacity=0)):(this.options.visibleClass&&this.canvas.classList.add(this.options.visibleClass),this.options.fadeOpacity&&(this.canvas.style.opacity=1)),this._twinkleThreshold=.8,this._twinkleSpeedValue=3,this._twinkleScaleValue=.01,this._deadzoneValue=.2,this._updateDensity(this.options.density),this._updateTwinkleSettings(),this._updateDeadzone(),this._draw=this._draw.bind(this),this._resize=this._resize.bind(this),window.addEventListener("resize",this._resize),this._resize(),this.options.autoStart&&this.start()}_updateDensity(t){const i=(100-t)/90,s=this.options.densityMinCell+i*(this.options.densityMaxCell-this.options.densityMinCell),e=.3+this.options.dotSize/10*1.7;this._cellSize=s*e,this._gap=this.options.densityMinGap+i*(this.options.densityMaxGap-this.options.densityMinGap),this._gridSize=this._cellSize+this._gap}_updateTwinkleSettings(){const t=this.options.effect;this._twinkleSpeedValue=1+(t.twinkleSpeed-10)/90*5,this._twinkleScaleValue=.5-(t.size-10)/90*.499,this._twinkleThreshold=1-t.density/100*.9}_updateDeadzone(){this._deadzoneValue=this.options.effect.deadzone/100}_generateSparkles(t,i){this._sparkleMap={};for(let s=0;s<i;s++)for(let i=0;i<t;i++)Math.random()<this.options.effect.chance&&(this._sparkleMap[`${i},${s}`]=Math.random())}_resize(){let t,i;if(null!==this.options.width&&null!==this.options.height)t=this.options.width,i=this.options.height;else if(this.options.fullscreen)t=window.innerWidth,i=window.innerHeight;else{const s=this.options.container;t=null!==this.options.width?this.options.width:s.clientWidth,i=null!==this.options.height?this.options.height:s.clientHeight}this.canvas.width=t,this.canvas.height=i;const s=Math.ceil(this.canvas.width/this._gridSize),e=Math.ceil(this.canvas.height/this._gridSize);this._generateSparkles(s,e),this._offscreenCanvas=null,this._offscreenCtx=null}_draw(t){if(!this._isRunning)return;const i=t-this._lastFrameTime;this._animTime+=i*this.options.animationSpeed,this._twinkleTime+=.001*i;const s=this.options.effect;if(this._sparkleWaiting)t>=this._sparkleWaitUntil&&(this._sparkleWaiting=!1,this._diagPos=-s.width);else{this._diagPos+=i*s.speed*100;const e=Math.ceil(this.canvas.width/this._gridSize),a=Math.ceil(this.canvas.height/this._gridSize),o=e+a;if(this._diagPos>o+s.width){this._sparkleWaiting=!0;const i=s.delayMin+Math.random()*(s.delayMax-s.delayMin);this._sparkleWaitUntil=t+i,this._generateSparkles(e,a)}}this._lastFrameTime=t,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=Math.ceil(this.canvas.width/this._gridSize),a=Math.ceil(this.canvas.height/this._gridSize);if(this.options.solidPattern){this._offscreenCanvas&&this._offscreenCanvas.width===e&&this._offscreenCanvas.height===a||(this._offscreenCanvas=document.createElement("canvas"),this._offscreenCanvas.width=e,this._offscreenCanvas.height=a,this._offscreenCtx=this._offscreenCanvas.getContext("2d"));const t=this._offscreenCtx,i=t.createImageData(e,a),s=i.data;for(let t=0;t<a;t++)for(let i=0;i<e;i++){const o=this._calculateCellData(i,t,e,a),n=4*(t*e+i);s[n]=o.r,s[n+1]=o.g,s[n+2]=o.b,s[n+3]=Math.round(255*o.opacity)}if(t.putImageData(i,0,0),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.drawImage(this._offscreenCanvas,0,0,this.canvas.width,this.canvas.height),"none"!==this.options.effect.type)for(let t=0;t<a;t++)for(let i=0;i<e;i++)this._drawEffect(i,t,e,a)}else for(let t=0;t<a;t++)for(let i=0;i<e;i++)this._drawCell(i,t,e,a);this._updateCollapse(),this._animationId=requestAnimationFrame(this._draw)}_calculateCellData(t,i,s,e){const{options:a,noise:o,randomOffset:n,_animTime:h}=this,l=Math.sin(h*a.waveFrequency+t*a.patternScale*10)*a.waveAmplitude,r=Math.cos(h*a.waveFrequency*.7+i*a.patternScale*10)*a.waveAmplitude,c=o.noise2D(t*a.patternScale*a.warpScale+l+n,i*a.patternScale*a.warpScale+h+n)*a.warpAmount,p=o.noise2D(t*a.patternScale*a.warpScale+100+n,i*a.patternScale*a.warpScale+h+r+n)*a.warpAmount,d=o.noise2D((t+c)*a.patternScale+.5*r+n,(i+p)*a.patternScale+.5*l+n),u=1-Math.abs(d),f=Math.pow(u,a.ridgePower);let _,g,m,C=a.minOpacity+f*(a.maxOpacity-a.minOpacity);if(a.patternAurora){const s=(o.noise2D(t*a.colorScale+.5*n,i*a.colorScale+.5*h+.5*n)+1)/2;_=Math.round(a.auroraColor1[0]+(a.auroraColor2[0]-a.auroraColor1[0])*s),g=Math.round(a.auroraColor1[1]+(a.auroraColor2[1]-a.auroraColor1[1])*s),m=Math.round(a.auroraColor1[2]+(a.auroraColor2[2]-a.auroraColor1[2])*s)}else _=g=m=255;if(this._collapseProgress>0){C=this._applyCollapse(t,i,s,e,C,0).opacity}return{r:_,g:g,b:m,opacity:C}}_drawEffect(t,i,s,e){const a=this.options.effect;let o=[255,255,255],n=0;if("wave"===a.type&&!this._sparkleWaiting){const a=this._calculateWaveEffect(t,i,s,e);o=a.color,n=a.opacity}if("twinkle"===a.type){const a=this._calculateTwinkleEffect(t,i,s,e);o=a.color,n=a.opacity}if(this._collapseProgress>0){n=this._applyCollapse(t,i,s,e,0,n).effectOpacity}n>0&&(this.ctx.fillStyle=`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${n})`,this.ctx.beginPath(),this.ctx.arc(t*this._gridSize+this._cellSize/2,i*this._gridSize+this._cellSize/2,this._cellSize/2,0,2*Math.PI),this.ctx.fill())}_drawCell(t,i,s,e){const{options:a,noise:o,randomOffset:n,_animTime:h,_twinkleTime:l}=this,r=Math.sin(h*a.waveFrequency+t*a.patternScale*10)*a.waveAmplitude,c=Math.cos(h*a.waveFrequency*.7+i*a.patternScale*10)*a.waveAmplitude,p=o.noise2D(t*a.patternScale*a.warpScale+r+n,i*a.patternScale*a.warpScale+h+n)*a.warpAmount,d=o.noise2D(t*a.patternScale*a.warpScale+100+n,i*a.patternScale*a.warpScale+h+c+n)*a.warpAmount,u=o.noise2D((t+p)*a.patternScale+.5*c+n,(i+d)*a.patternScale+.5*r+n),f=1-Math.abs(u),_=Math.pow(f,a.ridgePower);let g,m,C,w=a.minOpacity+_*(a.maxOpacity-a.minOpacity),M=[255,255,255],y=0;if("wave"===a.effect.type&&!this._sparkleWaiting){const a=this._calculateWaveEffect(t,i,s,e);M=a.color,y=a.opacity}if("twinkle"===a.effect.type){const a=this._calculateTwinkleEffect(t,i,s,e);M=a.color,y=a.opacity}if(a.patternAurora){const s=(o.noise2D(t*a.colorScale+.5*n,i*a.colorScale+.5*h+.5*n)+1)/2;g=Math.round(a.auroraColor1[0]+(a.auroraColor2[0]-a.auroraColor1[0])*s),m=Math.round(a.auroraColor1[1]+(a.auroraColor2[1]-a.auroraColor1[1])*s),C=Math.round(a.auroraColor1[2]+(a.auroraColor2[2]-a.auroraColor1[2])*s)}else g=m=C=255;if(this._collapseProgress>0){const a=this._applyCollapse(t,i,s,e,w,y);w=a.opacity,y=a.effectOpacity}if(!(w<=0&&y<=0)){if(this.ctx.fillStyle=`rgba(${g}, ${m}, ${C}, ${w})`,this.options.solidPattern){const s=Math.floor(t*this._gridSize),e=Math.floor(i*this._gridSize);this.ctx.fillRect(s,e,Math.ceil(this._gridSize)+1,Math.ceil(this._gridSize)+1)}else this.ctx.beginPath(),this.ctx.arc(t*this._gridSize+this._cellSize/2,i*this._gridSize+this._cellSize/2,this._cellSize/2,0,2*Math.PI),this.ctx.fill();y>0&&(this.ctx.fillStyle=`rgba(${M[0]}, ${M[1]}, ${M[2]}, ${y})`,this.ctx.beginPath(),this.ctx.arc(t*this._gridSize+this._cellSize/2,i*this._gridSize+this._cellSize/2,this._cellSize/2,0,2*Math.PI),this.ctx.fill())}}_calculateWaveEffect(t,i,s,e){const{options:a,noise:o,randomOffset:n,_animTime:h,_twinkleTime:l}=this,r=a.effect;let c=[255,255,255],p=0;const d=s/2,u=e/2,f=Math.sqrt((t-d)**2+(i-u)**2),_=Math.sqrt(d**2+u**2)*this._deadzoneValue,g=.3*_;let m=1;if(f<_)m=0;else if(f<_+g){const t=(f-_)/g;m=t*t*(3-2*t)}if(r.combineSparkle&&m>0){const s=t+i,e=Math.abs(s-this._diagPos),o=Math.max(0,1-e/r.width),h=Math.pow(o,.5),d=43758.5453*Math.sin(12.9898*t+78.233*i+n),u=d-Math.floor(d),f=23421.6312*Math.sin(93.9898*t+67.345*i+2*n),_=f-Math.floor(f);if(u>1-r.density/100*.9){const s=_*Math.PI*2,e=.1+r.twinkleSpeed/100*.4,o=Math.sin(l*e+s),d=Math.max(0,o),u=r.sparkleBaseOpacity/100;if(p=d*(u+(1-u)*h)*m,r.aurora){const s=12345.6789*Math.sin(45.123*t+89.456*i+n),e=s-Math.floor(s);c=[Math.round(a.auroraColor1[0]+(a.auroraColor2[0]-a.auroraColor1[0])*e),Math.round(a.auroraColor1[1]+(a.auroraColor2[1]-a.auroraColor1[1])*e),Math.round(a.auroraColor1[2]+(a.auroraColor2[2]-a.auroraColor1[2])*e)]}}return{color:c,opacity:p}}const C=t+i,w=Math.abs(C-this._diagPos);if(w<r.width&&void 0!==this._sparkleMap[`${t},${i}`]){const l=w/r.width,d=Math.cos(l*Math.PI*.5)*r.intensity,u=Math.min(s,e),f=Math.max(0,Math.floor(this._diagPos)-(e-1)),_=Math.min(s-1,Math.floor(this._diagPos)),g=Math.max(1,_-f+1);let C=1;if(g>=u&&g>1){const i=(t-f)/(g-1),s=Math.max(0,Math.min(1,i));C=.3+.7*Math.sin(s*Math.PI)}else if(g>1){const i=g/u,s=(t-f)/(g-1),e=Math.max(0,Math.min(1,s)),a=Math.sin(e*Math.PI);C=Math.max(.3,1-(1-a)*i*.7)}if(p=d*this._sparkleMap[`${t},${i}`]*Math.max(0,C)*m,r.aurora){const s=(o.noise2D(t*a.colorScale*2+n,i*a.colorScale*2+h+n)+1)/2;c=[Math.round(a.auroraColor1[0]+(a.auroraColor2[0]-a.auroraColor1[0])*s),Math.round(a.auroraColor1[1]+(a.auroraColor2[1]-a.auroraColor1[1])*s),Math.round(a.auroraColor1[2]+(a.auroraColor2[2]-a.auroraColor1[2])*s)]}}return{color:c,opacity:p}}_calculateTwinkleEffect(t,i,s,e){const{options:a,noise:o,randomOffset:n,_twinkleTime:h}=this,l=a.effect;let r=[255,255,255],c=0;const p=s/2,d=e/2,u=Math.sqrt((t-p)**2+(i-d)**2),f=Math.sqrt(p**2+d**2)*this._deadzoneValue,_=.3*f;let g=1;if(u<f)g=0;else if(u<f+_){const t=(u-f)/_;g=t*t*(3-2*t)}if(g>0)if(l.combined){const s=5e-4+.003*(1-this._twinkleScaleValue),e=.15*this._twinkleSpeedValue,p=.5*o.noise2D(t*s+h*e,i*s+h*e*.5+n)+.3*o.noise2D(t*s*.5+h*e*.3+50,i*s*.7-h*e*.2+n+50)+.2*o.noise2D((t+.5*i)*s*.8+h*e*.4,(i-.3*t)*s*.8+n+100),d=(Math.sin(p*Math.PI*2)+1)/2,u=Math.pow(d,.5),f=43758.5453*Math.sin(12.9898*t+78.233*i+n),_=f-Math.floor(f),m=23421.6312*Math.sin(93.9898*t+67.345*i+2*n),C=m-Math.floor(m);if(_>this._twinkleThreshold){const s=C*Math.PI*2,e=Math.sin(h*this._twinkleSpeedValue*2+s),o=Math.max(0,e),p=l.baseOpacity/100;if(c=o*(p+(1-p)*u)*l.intensity*g,l.aurora){const s=12345.6789*Math.sin(45.123*t+89.456*i+n),e=s-Math.floor(s);r=[Math.round(a.auroraColor1[0]+(a.auroraColor2[0]-a.auroraColor1[0])*e),Math.round(a.auroraColor1[1]+(a.auroraColor2[1]-a.auroraColor1[1])*e),Math.round(a.auroraColor1[2]+(a.auroraColor2[2]-a.auroraColor1[2])*e)]}}}else if("wave"===l.mode){const s=5e-4+.003*(1-this._twinkleScaleValue),e=.15*this._twinkleSpeedValue,p=.5*o.noise2D(t*s+h*e,i*s+h*e*.5+n)+.3*o.noise2D(t*s*.5+h*e*.3+50,i*s*.7-h*e*.2+n+50)+.2*o.noise2D((t+.5*i)*s*.8+h*e*.4,(i-.3*t)*s*.8+n+100),d=(Math.sin(p*Math.PI*2)+1)/2,u=.3+.7*this._twinkleThreshold;if(c=Math.pow(d,1/u)*l.intensity*g,l.aurora&&c>0){const l=(o.noise2D(t*s*.3+h*e*.1+n,i*s*.3+n)+1)/2;r=[Math.round(a.auroraColor1[0]+(a.auroraColor2[0]-a.auroraColor1[0])*l),Math.round(a.auroraColor1[1]+(a.auroraColor2[1]-a.auroraColor1[1])*l),Math.round(a.auroraColor1[2]+(a.auroraColor2[2]-a.auroraColor1[2])*l)]}}else{const s=43758.5453*Math.sin(12.9898*t+78.233*i+n),e=s-Math.floor(s),p=23421.6312*Math.sin(93.9898*t+67.345*i+2*n),d=p-Math.floor(p);if(e>this._twinkleThreshold){const s=d*Math.PI*2,e=Math.sin(h*this._twinkleSpeedValue+s);if(c=Math.max(0,e)*(.2+(o.noise2D(t*this._twinkleScaleValue+.2*h+n,i*this._twinkleScaleValue+n)+1)/2*.8)*l.intensity*g,l.aurora){const s=12345.6789*Math.sin(45.123*t+89.456*i+n),e=s-Math.floor(s);r=[Math.round(a.auroraColor1[0]+(a.auroraColor2[0]-a.auroraColor1[0])*e),Math.round(a.auroraColor1[1]+(a.auroraColor2[1]-a.auroraColor1[1])*e),Math.round(a.auroraColor1[2]+(a.auroraColor2[2]-a.auroraColor1[2])*e)]}}}return{color:r,opacity:c}}_applyCollapse(t,i,s,e,a,o){const n=s/2,h=e/2,l=Math.sqrt(n*n+h*h),r=1-Math.sqrt((t-n)**2+(i-h)**2)/l;if(this._collapseProgress>r+this.options.collapseWaveWidth)a=0,o=0;else if(this._collapseProgress>r){const t=1-(this._collapseProgress-r)/this.options.collapseWaveWidth,i=t*t*(3-2*t);a*=i,o*=i}return{opacity:a,effectOpacity:o}}_updateCollapse(){const t=1+this.options.collapseWaveWidth,i=this.options;if(this._isCollapsing&&this._collapseProgress<t){const s=this._hideSpeed||i.collapseSpeed;if(this._collapseProgress+=s,i.fadeOpacity){const i=Math.min(this._collapseProgress/t,1);this.canvas.style.opacity=1-i}i.hidingClass&&!this.canvas.classList.contains(i.hidingClass)&&(this.canvas.classList.remove(i.revealingClass,i.visibleClass),this.canvas.classList.add(i.hidingClass)),this._collapseProgress>=t&&(this._collapseProgress=t,this._hideSpeed=null,i.fadeOpacity&&(this.canvas.style.opacity=0),i.hidingClass&&this.canvas.classList.remove(i.hidingClass),i.hiddenClass&&this.canvas.classList.add(i.hiddenClass),i.onHide&&i.onHide())}else if(!this._isCollapsing&&this._collapseProgress>0){const s=this._showSpeed||i.collapseSpeed;if(this._collapseProgress-=s,i.fadeOpacity){const i=Math.max(this._collapseProgress/t,0);this.canvas.style.opacity=1-i}i.revealingClass&&!this.canvas.classList.contains(i.revealingClass)&&(this.canvas.classList.remove(i.hidingClass,i.hiddenClass),this.canvas.classList.add(i.revealingClass)),this._collapseProgress<=0&&(this._collapseProgress=0,this._showSpeed=null,i.fadeOpacity&&(this.canvas.style.opacity=1),i.revealingClass&&this.canvas.classList.remove(i.revealingClass),i.visibleClass&&this.canvas.classList.add(i.visibleClass),i.onShow&&i.onShow())}}start(){return this._isRunning||(this._isRunning=!0,this._lastFrameTime=performance.now(),this._animationId=requestAnimationFrame(this._draw)),this}stop(){return this._isRunning=!1,this._animationId&&(cancelAnimationFrame(this._animationId),this._animationId=null),this}resize(t,i){return void 0!==t&&(this.options.width=t),void 0!==i&&(this.options.height=i),this._resize(),this}redraw(){const t=performance.now(),i=this._isRunning;this._isRunning=!0,this._lastFrameTime=t-16;this._animTime+=16*this.options.animationSpeed,this._twinkleTime+=.016,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const s=Math.ceil(this.canvas.width/this._gridSize),e=Math.ceil(this.canvas.height/this._gridSize);if(this.options.solidPattern){this._offscreenCanvas&&this._offscreenCanvas.width===s&&this._offscreenCanvas.height===e||(this._offscreenCanvas=document.createElement("canvas"),this._offscreenCanvas.width=s,this._offscreenCanvas.height=e,this._offscreenCtx=this._offscreenCanvas.getContext("2d"));const t=this._offscreenCtx,i=t.createImageData(s,e),a=i.data;for(let t=0;t<e;t++)for(let i=0;i<s;i++){const o=this._calculateCellData(i,t,s,e),n=4*(t*s+i);a[n]=o.r,a[n+1]=o.g,a[n+2]=o.b,a[n+3]=Math.round(255*o.opacity)}if(t.putImageData(i,0,0),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.drawImage(this._offscreenCanvas,0,0,this.canvas.width,this.canvas.height),"none"!==this.options.effect.type)for(let t=0;t<e;t++)for(let i=0;i<s;i++)this._drawEffect(i,t,s,e)}else for(let t=0;t<e;t++)for(let i=0;i<s;i++)this._drawCell(i,t,s,e);return this._isRunning=i,this}show(t,i){let s=null,e=null;if("function"==typeof t?e=t:"number"==typeof t&&(s=t,e=i),null!==s){const t=1+this.options.collapseWaveWidth,i=s/16.67;this._showSpeed=t/i}else if(this.options.showDuration){const t=1+this.options.collapseWaveWidth,i=this.options.showDuration/16.67;this._showSpeed=t/i}if(this._isCollapsing=!1,e){const t=this.options.onShow;this.options.onShow=()=>{e(),this.options.onShow=t}}return this}hide(t,i){let s=null,e=null;if("function"==typeof t?e=t:"number"==typeof t&&(s=t,e=i),null!==s){const t=1+this.options.collapseWaveWidth,i=s/16.67;this._hideSpeed=t/i}else if(this.options.hideDuration){const t=1+this.options.collapseWaveWidth,i=this.options.hideDuration/16.67;this._hideSpeed=t/i}if(this._isCollapsing=!0,e){const t=this.options.onHide;this.options.onHide=()=>{e(),this.options.onHide=t}}return this}toggle(t,i){return this._isCollapsing?this.show(t,i):this.hide(t,i)}isVisible(){return!this._isCollapsing&&0===this._collapseProgress}isHidden(){return this._isCollapsing&&this._collapseProgress>=1+this.options.collapseWaveWidth}setOption(t,i){if("effect"===t)return"object"==typeof i?this.setEffect(i.type,i):this;this.options[t]=i;return["density","dotSize","solidPattern","patternAurora","maxOpacity","minOpacity"].includes(t)&&(this._updateDensity(this.options.density),this._resize()),this}setEffect(t,i={}){return t&&(this.options.effect.type=t),Object.keys(i).forEach(t=>{"type"!==t&&(this.options.effect[t]=i[t])}),this._updateTwinkleSettings(),this._updateDeadzone(),this._resize(),this}getEffect(){return{...this.options.effect}}setOptions(t){return Object.keys(t).forEach(i=>{this.setOption(i,t[i])}),this}getOptions(){return{...this.options}}getOption(t){return this.options[t]}destroy(){this.stop(),window.removeEventListener("resize",this._resize),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null,this.ctx=null,this.noise=null}}return i});
//# sourceMappingURL=borealis.min.js.map
